<section
  id="study_detail"
  aria-live="polite"
  class="flex-1 h-full bg-white rounded-lg shadow-sm border p-6"
>
  <div class="flex justify-between items-start mb-4">
    <h2 class="text-xl font-semibold text-gray-900">{{ study.name }}</h2>
    <button
      type="button"
      onclick="closeDetail()"
      class="text-gray-400 hover:text-gray-600"
      aria-label="닫기"
    >
      <svg
        width="20"
        height="20"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
      >
        <line x1="18" y1="6" x2="6" y2="18"></line>
        <line x1="6" y1="6" x2="18" y2="18"></line>
      </svg>
    </button>
  </div>

  <div class="mb-4">
    <span class="bg-blue-100 text-blue-800 text-sm px-2 py-1 rounded-full"
      >{{ study.subject }}</span
    >
  </div>

  <div class="mb-4">
    <h3 class="text-sm font-medium text-gray-700 mb-2">스터디 설명</h3>
    <p class="text-gray-600 text-sm">{{ study.description }}</p>
  </div>

  <div class="space-y-3 mb-6">
    <div class="flex items-center justify-between text-sm">
      <span class="text-gray-500">최대 참여자</span>
      <span class="font-medium">{{ study.max_participants }}명</span>
    </div>

    {% if study.study_date %}
    <div class="flex items-center justify-between text-sm">
      <span class="text-gray-500">스터디 일정</span>
      <span class="font-medium">{{ study.study_date }}</span>
    </div>
    {% endif %} {% if study.candidate %}
    <div class="text-sm">
      <span class="text-gray-500 mb-2 block"
        >참여 가능한 날짜를 선택하세요</span
      >
      <div class="space-y-2" id="date-selection">
        {% set unique_dates = [] %} {% for candidate in study.candidate %} {% if
        candidate.date not in unique_dates %} {% set _ =
        unique_dates.append(candidate.date) %} {% endif %} {% endfor %} {% for
        date in unique_dates %}
        <label class="flex items-center space-x-2 cursor-pointer">
          <input
            type="checkbox"
            name="selected_dates"
            value="{{ date }}"
            class="rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"
          >
          <span class="font-medium">{{ date }}</span>
        </label>
        {% endfor %}
      </div>
    </div>
    {% endif %}

    <div class="flex items-center justify-between text-sm">
      <span class="text-gray-500">확정 참여자</span>
      <span class="font-medium">{{ study.confirmed_candidate|length }}명</span>
    </div>
  </div>

  <button
    type="button"
    class="w-full bg-indigo-600 hover:bg-indigo-700 text-white py-2 px-4 rounded-lg text-sm font-medium"
    onclick="applyToStudy('{{ study.id }}')"
  >
    스터디 참여하기
  </button>
</section>
